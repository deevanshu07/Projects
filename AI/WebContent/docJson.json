{
  "responseHeader":{
    "status":0,
    "QTime":0,
    "params":{
      "q":"id:201",
      "indent":"on",
      "wt":"json"}},
  "response":{"numFound":1,"start":0,"docs":[
		{
                                                                "docId": "https://ap2.salesforce.com/ka228000000bnc2AAA",
                                                                "id": [
                                                                                "ka228000000bnc2AAA"
                                                                ],
                                                                "title": "LIFs do not respond to pings",
                                                                "kbType": "Knowledge Base",
                                                                "docType": "Break Fix",
                                                                "type": [
                                                                                "Break Fix"
                                                                ],
                                                                "body": {
                                                                                "content": [
                                                                                                "Determine why LIF is not responding to pings: Make sure the address has LIF associated with it. Run the following command and verify that the expected IP address is present: network interface show -address <address> xy::> netword interface show -address 10.98.231.241   (network interface show)             Logical    Status     Network            Current       Current Is Vserver     Interface  Admin/Oper Address/Mask       Node          Port    Home ----------- ---------- ---------- ------------------ ------------- ------- ---- vs0             data1        up/up    10.98.231.241/20   n6070-4       a0a     true                                   ^^^^^^^^^^^^^ If the IP address does not exist check for mistyped addresses and modify or create a new LIF. Make sure the LIF status-admin is up. xy::*> network interface show -lif data1 -fields status-admin vserver lif   status-admin ------- ----- ------------ vs0     data1 up There are two situations where the status-admin can be down: Administration might have set the LIF status to down. Run the following command to change the status to up: xy::*> network interface modify -status-admin up -vserver vs0 -lif data1 There are no ports in the LIFs failover group that are linked or where Up Administrative is set to true. Determine why this is the case and set Up Administrative to true fix the ports with no links or add a viable port to the failover group. Make sure the LIF is operationally up. xy::*> network interface show -lif data1  -fields status-oper vserver lif   status-oper ------- ----- ----------- vs0     data1 up If the LIF is not operationally up make sure the vserver is running xy::*> vserver show -vserver vs0 -fields admin-state vserver admin-state ------- ----------- vs0     running If the vserver state is stopped start it by running the following command. xy::*> vserver start vs0 [Job 257] Job succeeded: DONE Make sure the configuration is correct. Determine the node and port on which LIF resides. Run the node run <node> ifconfg <port> command and make sure the address is present. xy::*> network interface show -vserver vs0 -lif data1 -fields curr-nodecurr-port vserver lif   curr-node curr-port ------- ----- --------- --------- vs0     data1 n6070-5   e0d   xy::*> node run n6070-5 ifconfig e0d   e0d: flags=0x2f4c867<UPBROADCASTRUNNINGMULTICASTTCPCKSUM> mtu 1500         inet 10.98.231.241 netmask 0xfffff000 broadcast 10.98.239.255 noddns DATA         ether 00:a0:98:08:58:ed (auto-1000t-fd-up) flowcontrol none If the address is not present on the port it clearly indicates a serious issue. Check the routing groups and routes. Find out the routing group to which the LIF belongs: xy::*> network interface show -vserver vs0 -lif data1 -fields routing-group vserver lif   routing-group ------- ----- --------------- vs0     data1 d10.98.224.0/20 Make sure the routing group is configured correctly: xy::*> network routing-groups show -routing-group d10.98.224.0/20           Routing Vserver   Group     Subnet          Role         Metric --------- --------- --------------- ------------ ------- vs0           d10.98.224.0/20                     10.98.224.0/20  data              20 Make sure the routing group contains at a minimum a default route and that the gateway is correct. The default route is for the network 0.0.0.0/0. xy::*> network routing-groups route show -routing-group d10.98.224.0/20           Routing Vserver   Group     Destination     Gateway         Metric --------- --------- --------------- --------------- ------ vs0           d10.98.224.0/20                     0.0.0.0/0       10.98.224.1     20 Make sure the sk stack has the routing group and routes. Every route listed by the above command should appear as a default route in the routing group below. xy::*> node run n6070-5 route -gsn   Routing tables   Routing group: __default_grp   Internet: Destination      Gateway            Flags     Refs     Use  Interface 127.0.0.1        127.0.0.1          UH          0        0  lo 127.0.10.1       127.0.20.1         UHS         2     1365  losk   Routing group: n6070-5_c10.98.208.0/21   Internet: Destination      Gateway            Flags     Refs     Use  Interface default          10.98.208.1        UGS         0        0  e0a 10.98.208/21     link#1             UC          0        0  e0a 10.98.208.1      f0:25:72:a6:cf:41  UHL         1        0  e0a 10.98.210.19     0:a0:98:8:58:5a    UHL         8  6719355  e0a 10.98.210.20     0:a0:98:8:58:5b    UHL        10  4788293  e0a 10.98.210.22     0:a0:98:8:58:ea    UHL         0    46870  lo 10.98.210.23     0:a0:98:8:58:eb    UHL         0    48183  lo   Routing group: n6070-5_n10.98.200.0/21   Internet: Destination      Gateway            Flags     Refs     Use  Interface default          10.98.200.1        UGS         0    10175  e4a 10.98.200/21     link#5             UC          0        0  e4a 10.98.200.1      f0:25:72:a6:cf:41  UHL         1        0  e4a 10.98.200.121    0:50:56:9d:74:18   UHL         0      422  e4a   Routing group: vs0_d10.98.224.0/20 <<------------------------Routing group for the LIF   Internet: Destination      Gateway            Flags     Refs     Use  Interface default          10.98.224.1        UGS         0        4  e0d  <<<<--- The default route 10.98.224/20     link#4             UC          0        0  e0d 10.98.224.1      f0:25:72:a6:cf:41  UHL         1        0  e0d 10.98.239.255    ff:ff:ff:ff:ff:ff  UHL         0       20  e0d   If the routing-group and/or routes are not present check the vifmgr logs to find out what went wrong. For routes that are in the cluster shell but not in route -gsn add the missing routes in the clustershell.   Check whether the port is on the right network. If mac addresses are not showing up in route â€“gsn it is probably on the wrong subnet. If the gateway does not have a mac address the LIF is probably on a port that does not have access to the correct subnet. xy::network routing-groups route*> node run local route -gsn                    Routing tables . . . Routing group: vs0_d192.168.100.0/24   Internet: Destination      Gateway            Flags     Refs     Use  Interface default          192.168.100.12     UGS         0        0  a0a 192.168.100      link#12            UC          0        0  a0a 192.168.100.12   link#12            UHL         1        0  a0a <<<<------------ no mac address for gateway 192.168.100.255  ff:ff:ff:ff:ff:ff  UHL         0       40  a0a Run a pktt on the port on which the LIF resides. Examine the packet trace file and check for the IP traffic from the source IP address and the destination IP address as well as other broadcast traffic on the same subnet as your cluster LIFs. If there is no traffic or unanswered ARPs or traffic for the wrong subnet then it is most likely that the cluster port is plugged wrongly. Check for duplicate IP addresses. There are cases where LIFs hosted on multiple nodes in a cluster will create issues for the switches. One such case is where LIF is migrated to a destination node but not completely removed from the source node. In cases such as this all the nodes need to be checked to make sure only one instance of the address is on an interface. For each node in the cluster run the node run local ifconfig â€“acommand. Run the network interface show -address <address> command to determine where the LIF is supposed to be. <xy::*> network interface show -address 10.98.231.241             Logical    Status     Network            Current       Current Is Vserver     Interface  Admin/Oper Address/Mask       Node          Port    Home ----------- ---------- ---------- ------------------ ------------- ------- ---- vs0             data1        up/up    10.98.231.241/20   n6070-5       e0d     false Reboot the node that is not the current-node and hosts the address. Check the firewall. Obtain the Firewall policy of the LIF: xy::> net inter show -fields firewall-policy -lif data1   (network interface show) vserver lif   firewall-policy ------- ----- --------------- vs0     data1 data Make sure the Firewall policy is aligned with the type of LIF. The types of LIFs are as below: cluster - cluster lifs intercluster - intercluster lifs mgmt - cluster mgmt and node mgmt lifs data - data lifs custom policies  ",
                                                                                                "LIFs do not respond to pings"
                                                                                ],
                                                                                "summary": "LIFs do not respond to pings",
                                                                                "symptom": [
                                                                                                "LIFs do not respond to pings."
                                                                                ],
                                                                                "solution": [
                                                                                                "Determine why LIF is not responding to pings: Make sure the address has LIF associated with it. Run the following command and verify that the expected IP address is present: network interface show -address <address> xy::> netword interface show -address 10.98.231.241   (network interface show)             Logical    Status     Network            Current       Current Is Vserver     Interface  Admin/Oper Address/Mask       Node          Port    Home ----------- ---------- ---------- ------------------ ------------- ------- ---- vs0             data1        up/up    10.98.231.241/20   n6070-4       a0a     true                                   ^^^^^^^^^^^^^ If the IP address does not exist check for mistyped addresses and modify or create a new LIF. Make sure the LIF status-admin is up. xy::*> network interface show -lif data1 -fields status-admin vserver lif   status-admin ------- ----- ------------ vs0     data1 up There are two situations where the status-admin can be down: Administration might have set the LIF status to down. Run the following command to change the status to up: xy::*> network interface modify -status-admin up -vserver vs0 -lif data1 There are no ports in the LIFs failover group that are linked or where Up Administrative is set to true. Determine why this is the case and set Up Administrative to true fix the ports with no links or add a viable port to the failover group. Make sure the LIF is operationally up. xy::*> network interface show -lif data1  -fields status-oper vserver lif   status-oper ------- ----- ----------- vs0     data1 up If the LIF is not operationally up make sure the vserver is running xy::*> vserver show -vserver vs0 -fields admin-state vserver admin-state ------- ----------- vs0     running If the vserver state is stopped start it by running the following command. xy::*> vserver start vs0 [Job 257] Job succeeded: DONE Make sure the configuration is correct. Determine the node and port on which LIF resides. Run the node run <node> ifconfg <port> command and make sure the address is present. xy::*> network interface show -vserver vs0 -lif data1 -fields curr-nodecurr-port vserver lif   curr-node curr-port ------- ----- --------- --------- vs0     data1 n6070-5   e0d   xy::*> node run n6070-5 ifconfig e0d   e0d: flags=0x2f4c867<UPBROADCASTRUNNINGMULTICASTTCPCKSUM> mtu 1500         inet 10.98.231.241 netmask 0xfffff000 broadcast 10.98.239.255 noddns DATA         ether 00:a0:98:08:58:ed (auto-1000t-fd-up) flowcontrol none If the address is not present on the port it clearly indicates a serious issue. Check the routing groups and routes. Find out the routing group to which the LIF belongs: xy::*> network interface show -vserver vs0 -lif data1 -fields routing-group vserver lif   routing-group ------- ----- --------------- vs0     data1 d10.98.224.0/20 Make sure the routing group is configured correctly: xy::*> network routing-groups show -routing-group d10.98.224.0/20           Routing Vserver   Group     Subnet          Role         Metric --------- --------- --------------- ------------ ------- vs0           d10.98.224.0/20                     10.98.224.0/20  data              20 Make sure the routing group contains at a minimum a default route and that the gateway is correct. The default route is for the network 0.0.0.0/0. xy::*> network routing-groups route show -routing-group d10.98.224.0/20           Routing Vserver   Group     Destination     Gateway         Metric --------- --------- --------------- --------------- ------ vs0           d10.98.224.0/20                     0.0.0.0/0       10.98.224.1     20 Make sure the sk stack has the routing group and routes. Every route listed by the above command should appear as a default route in the routing group below. xy::*> node run n6070-5 route -gsn   Routing tables   Routing group: __default_grp   Internet: Destination      Gateway            Flags     Refs     Use  Interface 127.0.0.1        127.0.0.1          UH          0        0  lo 127.0.10.1       127.0.20.1         UHS         2     1365  losk   Routing group: n6070-5_c10.98.208.0/21   Internet: Destination      Gateway            Flags     Refs     Use  Interface default          10.98.208.1        UGS         0        0  e0a 10.98.208/21     link#1             UC          0        0  e0a 10.98.208.1      f0:25:72:a6:cf:41  UHL         1        0  e0a 10.98.210.19     0:a0:98:8:58:5a    UHL         8  6719355  e0a 10.98.210.20     0:a0:98:8:58:5b    UHL        10  4788293  e0a 10.98.210.22     0:a0:98:8:58:ea    UHL         0    46870  lo 10.98.210.23     0:a0:98:8:58:eb    UHL         0    48183  lo   Routing group: n6070-5_n10.98.200.0/21   Internet: Destination      Gateway            Flags     Refs     Use  Interface default          10.98.200.1        UGS         0    10175  e4a 10.98.200/21     link#5             UC          0        0  e4a 10.98.200.1      f0:25:72:a6:cf:41  UHL         1        0  e4a 10.98.200.121    0:50:56:9d:74:18   UHL         0      422  e4a   Routing group: vs0_d10.98.224.0/20 <<------------------------Routing group for the LIF   Internet: Destination      Gateway            Flags     Refs     Use  Interface default          10.98.224.1        UGS         0        4  e0d  <<<<--- The default route 10.98.224/20     link#4             UC          0        0  e0d 10.98.224.1      f0:25:72:a6:cf:41  UHL         1        0  e0d 10.98.239.255    ff:ff:ff:ff:ff:ff  UHL         0       20  e0d   If the routing-group and/or routes are not present check the vifmgr logs to find out what went wrong. For routes that are in the cluster shell but not in route -gsn add the missing routes in the clustershell.   Check whether the port is on the right network. If mac addresses are not showing up in route â€“gsn it is probably on the wrong subnet. If the gateway does not have a mac address the LIF is probably on a port that does not have access to the correct subnet. xy::network routing-groups route*> node run local route -gsn                    Routing tables . . . Routing group: vs0_d192.168.100.0/24   Internet: Destination      Gateway            Flags     Refs     Use  Interface default          192.168.100.12     UGS         0        0  a0a 192.168.100      link#12            UC          0        0  a0a 192.168.100.12   link#12            UHL         1        0  a0a <<<<------------ no mac address for gateway 192.168.100.255  ff:ff:ff:ff:ff:ff  UHL         0       40  a0a Run a pktt on the port on which the LIF resides. Examine the packet trace file and check for the IP traffic from the source IP address and the destination IP address as well as other broadcast traffic on the same subnet as your cluster LIFs. If there is no traffic or unanswered ARPs or traffic for the wrong subnet then it is most likely that the cluster port is plugged wrongly. Check for duplicate IP addresses. There are cases where LIFs hosted on multiple nodes in a cluster will create issues for the switches. One such case is where LIF is migrated to a destination node but not completely removed from the source node. In cases such as this all the nodes need to be checked to make sure only one instance of the address is on an interface. For each node in the cluster run the node run local ifconfig â€“acommand. Run the network interface show -address <address> command to determine where the LIF is supposed to be. <xy::*> network interface show -address 10.98.231.241             Logical    Status     Network            Current       Current Is Vserver     Interface  Admin/Oper Address/Mask       Node          Port    Home ----------- ---------- ---------- ------------------ ------------- ------- ---- vs0             data1        up/up    10.98.231.241/20   n6070-5       e0d     false Reboot the node that is not the current-node and hosts the address. Check the firewall. Obtain the Firewall policy of the LIF: xy::> net inter show -fields firewall-policy -lif data1   (network interface show) vserver lif   firewall-policy ------- ----- --------------- vs0     data1 data Make sure the Firewall policy is aligned with the type of LIF. The types of LIFs are as below: cluster - cluster lifs intercluster - intercluster lifs mgmt - cluster mgmt and node mgmt lifs data - data lifs custom policies  "
                                                                                ]
                                                                },
                                                                "security": [
                                                                                "Internal"
                                                                ],
                                                                "repository": [
                                                                                "Knowledge Base"
                                                                ],
                                                                "url": [
                                                                                "http://www.google.com/abc/id=ka228000000bnc2AAA"
                                                                ],
                                                                "rating": 10,
                                                                "dt": "2016-04-08",
                                                                "author": "Noopur Rai",
                                                                "icon": "images/break-fix.png",
                                                                "iconwidth": "35px",
                                                                "iconheight": "32px",
                                                                "cssClass": "breakfix",
                                                                "_version_": 1558956820148519000,
                                                                "showWithPadlock": false,
                                                                "score": 0.787921,
                                                                "[elevated]": false
                                                }
	 ]
		
  }
}